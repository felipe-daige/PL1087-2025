import{C as u}from"./auto-sRkgK8jz.js";function c(e){const a=Number.isFinite(e)?e:0,t=a<0?"- ":"",o=Math.abs(a).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t}R$ ${o}`}const n={blue:"rgba(59, 130, 246, 0.85)",blueMedium:"rgba(96, 165, 250, 0.85)",blueLight:"rgba(147, 197, 253, 0.85)",neutral:"rgba(115, 115, 115, 0.7)",neutralLight:"rgba(163, 163, 163, 0.7)",neutralLighter:"rgba(212, 212, 212, 0.7)",green:"rgba(34, 197, 94, 0.8)",red:"rgba(239, 68, 68, 0.8)"},i={blue:"rgb(59, 130, 246)",blueMedium:"rgb(96, 165, 250)",blueLight:"rgb(147, 197, 253)",neutral:"rgb(115, 115, 115)",neutralLight:"rgb(163, 163, 163)",neutralLighter:"rgb(212, 212, 212)",green:"rgb(34, 197, 94)",red:"rgb(239, 68, 68)"};function h(){const e=document.getElementById("incomeChart");if(!e||!window.chartData?.income)return;const a=window.chartData.income,t=[],o=[],s=[],r=[];[{key:"taxable",label:"Salários/Pró-labore",color:"blue"},{key:"rental",label:"Aluguéis",color:"blueMedium"},{key:"dividends",label:"Dividendos",color:"blueLight"},{key:"jcp",label:"JCP",color:"neutral"},{key:"fii",label:"FIIs",color:"neutralLight"},{key:"investments",label:"Investimentos",color:"neutralLighter"}].forEach(l=>{a[l.key]>0&&(t.push(l.label),o.push(a[l.key]),s.push(n[l.color]),r.push(i[l.color]))}),o.length===0&&(t.push("Sem dados"),o.push(1),s.push(n.neutral),r.push(i.neutral)),new u(e.getContext("2d"),{type:"doughnut",data:{labels:t,datasets:[{data:o,backgroundColor:s,borderColor:r,borderWidth:2,hoverOffset:4}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:11}}},tooltip:{callbacks:{label:function(l){const b=l.dataset.data.reduce((g,f)=>g+f,0),p=(l.parsed/b*100).toFixed(1);return`${l.label}: ${c(l.parsed)} (${p}%)`}}}}}})}function m(){const e=document.getElementById("regimeChart");if(!e||!window.chartData?.regime)return;const a=window.chartData.regime;new u(e.getContext("2d"),{type:"bar",data:{labels:["Simplificado","Deduções Legais"],datasets:[{label:"Imposto Anual",data:[a.simplified||0,a.legal||0],backgroundColor:[n.blue,n.neutral],borderColor:[i.blue,i.neutral],borderWidth:1,borderRadius:4}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return c(t.parsed.x)}}}},scales:{x:{beginAtZero:!0,grid:{display:!1},ticks:{callback:function(t){return t>=1e3?"R$ "+(t/1e3).toFixed(0)+"k":"R$ "+t}}},y:{grid:{display:!1}}}}})}function y(){const e=document.getElementById("irpfmGauge");if(!e||!window.chartData?.irpfm?.triggered)return;const t=window.chartData.irpfm.rate||0;new u(e.getContext("2d"),{type:"doughnut",data:{labels:["Alíquota Aplicada","Restante"],datasets:[{data:[t,10-t],backgroundColor:[t<=5?n.blue:n.red,"rgba(229, 231, 235, 0.3)"],borderWidth:0,circumference:180,rotation:270}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"70%",plugins:{legend:{display:!1},tooltip:{filter:function(o){return o.dataIndex===0},callbacks:{label:function(o){return`Alíquota: ${o.parsed.toFixed(2)}%`}}}}}})}function w(){const e=document.getElementById("holdingChart");if(!e||!window.chartData?.holding?.hasIncome)return;const a=window.chartData.holding;new u(e.getContext("2d"),{type:"bar",data:{labels:["Pessoa Física","Holding (PJ)"],datasets:[{label:"Imposto Mensal",data:[a.pf||0,a.pj||0],backgroundColor:[n.neutral,n.blue],borderColor:[i.neutral,i.blue],borderWidth:1,borderRadius:4}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return c(t.parsed.x)+"/mês"}}}},scales:{x:{beginAtZero:!0,grid:{display:!1},ticks:{callback:function(t){return"R$ "+t.toLocaleString("pt-BR")}}},y:{grid:{display:!1}}}}})}function k(){const e=document.getElementById("projectionChart");if(!e||!window.chartData?.projection?.length)return;const a=window.chartData.projection,t=a.map(r=>`Mês ${r.month}`),o=a.map(r=>r.cumulativePF),s=a.map(r=>r.cumulativePJ);new u(e.getContext("2d"),{type:"line",data:{labels:t,datasets:[{label:"PF (Acumulado)",data:o,borderColor:i.neutral,backgroundColor:"rgba(115, 115, 115, 0.05)",fill:!0,tension:.4,pointRadius:2,pointHoverRadius:5,borderWidth:2},{label:"PJ (Acumulado)",data:s,borderColor:i.blue,backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!0,tension:.4,pointRadius:2,pointHoverRadius:5,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{usePointStyle:!0,font:{size:11}}},tooltip:{callbacks:{label:function(r){return`${r.dataset.label}: ${c(r.parsed.y)}`}}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(r){return r>=1e3?"R$ "+(r/1e3).toFixed(0)+"k":"R$ "+r}}}}}})}function x(){const e=document.getElementById("taxBreakdownChart");if(!e||!window.chartData?.taxBreakdown)return;const a=window.chartData.taxBreakdown,t=[],o=[],s=[],r=[];a.base>0&&(o.push("IRPF Base"),t.push(a.base),s.push(n.blue),r.push(i.blue)),a.dividends>0&&(o.push("Dividendos"),t.push(a.dividends),s.push(n.blueMedium),r.push(i.blueMedium)),a.irpfm>0&&(o.push("IRPFM"),t.push(a.irpfm),s.push(n.neutral),r.push(i.neutral)),t.length===0&&(o.push("Sem imposto"),t.push(0),s.push(n.neutralLighter),r.push(i.neutralLighter)),new u(e.getContext("2d"),{type:"bar",data:{labels:["Composição do Imposto"],datasets:o.map((d,l)=>({label:d,data:[t[l]],backgroundColor:s[l],borderColor:r[l],borderWidth:2,borderRadius:4}))},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:11}}},tooltip:{callbacks:{label:function(d){return`${d.dataset.label}: ${c(d.parsed.y)}`}}}},scales:{x:{stacked:!0,grid:{display:!1},ticks:{display:!1}},y:{stacked:!0,beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{callback:function(d){return d>=1e3?"R$ "+(d/1e3).toFixed(0)+"k":"R$ "+d}}}}}})}function C(){const e=document.getElementById("incomeVsTaxChart");if(!e||!window.chartData?.incomeVsTax)return;const a=window.chartData.incomeVsTax;new u(e.getContext("2d"),{type:"bar",data:{labels:["Renda Total","Imposto Total"],datasets:[{label:"Valor",data:[a.income,a.tax],backgroundColor:[n.blue,n.red],borderColor:[i.blue,i.red],borderWidth:2,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{generateLabels:function(t){return[{text:"Renda Total",fillStyle:n.blue,strokeStyle:i.blue,hidden:!1,index:0},{text:"Imposto Total",fillStyle:n.red,strokeStyle:i.red,hidden:!1,index:1}]},usePointStyle:!0,padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(t){const o=t.parsed.y||t.parsed;return t.dataset.label+": "+c(o)}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:12,weight:"500"},color:"#525252"}},y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{callback:function(t){return t>=1e6?"R$ "+(t/1e6).toFixed(1)+"M":t>=1e3?"R$ "+(t/1e3).toFixed(0)+"k":"R$ "+t},font:{size:11},color:"#737373"}}}}})}function R(e){document.querySelectorAll(".result-content").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".result-tab").forEach(o=>{o.classList.remove("text-blue-600","border-blue-500"),o.classList.add("text-neutral-500","border-transparent")});const a=document.getElementById("content-"+e);a&&a.classList.remove("hidden");const t=document.getElementById("tab-"+e);t&&(t.classList.remove("text-neutral-500","border-transparent"),t.classList.add("text-blue-600","border-blue-500"))}window.showTab=R;document.addEventListener("DOMContentLoaded",()=>{h(),m(),y(),w(),k(),x(),C()});window.addEventListener("beforeprint",()=>{document.querySelectorAll(".chart-container").forEach(e=>{e.style.height="200px"})});window.addEventListener("afterprint",()=>{document.querySelectorAll(".chart-container").forEach(e=>{e.style.height=""})});
